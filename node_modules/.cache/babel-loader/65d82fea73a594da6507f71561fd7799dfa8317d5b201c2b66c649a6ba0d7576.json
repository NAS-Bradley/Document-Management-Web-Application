{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bradley.worthen\\\\OneDrive - Nortek, Inc\\\\Documents\\\\Projects\\\\Document Management Web Application\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nconst initialState = {\n  user: null,\n  loading: true,\n  error: null\n};\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.payload,\n        loading: false\n      };\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload,\n        loading: false\n      };\n    case 'LOGOUT':\n      return {\n        ...state,\n        user: null,\n        loading: false\n      };\n    default:\n      return state;\n  }\n}\n\n// Sample user roles and permissions\nconst USER_ROLES = {\n  ADMIN: 'admin',\n  MANAGER: 'manager',\n  USER: 'user',\n  VIEWER: 'viewer'\n};\nconst PERMISSIONS = {\n  UPLOAD: 'upload',\n  DELETE: 'delete',\n  EDIT_TAGS: 'edit_tags',\n  MANAGE_USERS: 'manage_users',\n  BULK_OPERATIONS: 'bulk_operations',\n  VIEW_AUDIT: 'view_audit'\n};\nconst rolePermissions = {\n  [USER_ROLES.ADMIN]: Object.values(PERMISSIONS),\n  [USER_ROLES.MANAGER]: [PERMISSIONS.UPLOAD, PERMISSIONS.DELETE, PERMISSIONS.EDIT_TAGS, PERMISSIONS.BULK_OPERATIONS, PERMISSIONS.VIEW_AUDIT],\n  [USER_ROLES.USER]: [PERMISSIONS.UPLOAD, PERMISSIONS.EDIT_TAGS],\n  [USER_ROLES.VIEWER]: []\n};\nexport function AuthProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  useEffect(() => {\n    // Simulate authentication check\n    const checkAuth = () => {\n      const storedUser = localStorage.getItem('user');\n      if (storedUser) {\n        dispatch({\n          type: 'SET_USER',\n          payload: JSON.parse(storedUser)\n        });\n      } else {\n        // For demo purposes, auto-login as admin\n        const demoUser = {\n          id: '1',\n          name: 'Bradley Worthen',\n          email: 'bradley.worthen@nortek.com',\n          role: USER_ROLES.ADMIN,\n          avatar: null,\n          loginTime: new Date().toISOString()\n        };\n        localStorage.setItem('user', JSON.stringify(demoUser));\n        dispatch({\n          type: 'SET_USER',\n          payload: demoUser\n        });\n      }\n    };\n    checkAuth();\n  }, []);\n  const login = async credentials => {\n    dispatch({\n      type: 'SET_LOADING',\n      payload: true\n    });\n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      const user = {\n        id: '1',\n        name: credentials.name || 'Demo User',\n        email: credentials.email,\n        role: credentials.role || USER_ROLES.USER,\n        avatar: null,\n        loginTime: new Date().toISOString()\n      };\n      localStorage.setItem('user', JSON.stringify(user));\n      dispatch({\n        type: 'SET_USER',\n        payload: user\n      });\n      return user;\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n      throw error;\n    }\n  };\n  const logout = () => {\n    localStorage.removeItem('user');\n    dispatch({\n      type: 'LOGOUT'\n    });\n  };\n  const hasPermission = permission => {\n    if (!state.user) return false;\n    const userPermissions = rolePermissions[state.user.role] || [];\n    return userPermissions.includes(permission);\n  };\n  const hasRole = role => {\n    var _state$user;\n    return ((_state$user = state.user) === null || _state$user === void 0 ? void 0 : _state$user.role) === role;\n  };\n  const isAdmin = () => hasRole(USER_ROLES.ADMIN);\n  const isManager = () => hasRole(USER_ROLES.MANAGER) || isAdmin();\n  const canUpload = () => hasPermission(PERMISSIONS.UPLOAD);\n  const canDelete = () => hasPermission(PERMISSIONS.DELETE);\n  const canEditTags = () => hasPermission(PERMISSIONS.EDIT_TAGS);\n  const canManageUsers = () => hasPermission(PERMISSIONS.MANAGE_USERS);\n  const canBulkOperations = () => hasPermission(PERMISSIONS.BULK_OPERATIONS);\n  const canViewAudit = () => hasPermission(PERMISSIONS.VIEW_AUDIT);\n  const value = {\n    ...state,\n    login,\n    logout,\n    hasPermission,\n    hasRole,\n    isAdmin,\n    isManager,\n    canUpload,\n    canDelete,\n    canEditTags,\n    canManageUsers,\n    canBulkOperations,\n    canViewAudit,\n    USER_ROLES,\n    PERMISSIONS\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = AuthProvider;\nexport function useAuth() {\n  _s2();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsxDEV","_jsxDEV","AuthContext","initialState","user","loading","error","authReducer","state","action","type","payload","USER_ROLES","ADMIN","MANAGER","USER","VIEWER","PERMISSIONS","UPLOAD","DELETE","EDIT_TAGS","MANAGE_USERS","BULK_OPERATIONS","VIEW_AUDIT","rolePermissions","Object","values","AuthProvider","children","_s","dispatch","checkAuth","storedUser","localStorage","getItem","JSON","parse","demoUser","id","name","email","role","avatar","loginTime","Date","toISOString","setItem","stringify","login","credentials","Promise","resolve","setTimeout","message","logout","removeItem","hasPermission","permission","userPermissions","includes","hasRole","_state$user","isAdmin","isManager","canUpload","canDelete","canEditTags","canManageUsers","canBulkOperations","canViewAudit","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/bradley.worthen/OneDrive - Nortek, Inc/Documents/Projects/Document Management Web Application/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst initialState = {\r\n  user: null,\r\n  loading: true,\r\n  error: null\r\n};\r\n\r\nfunction authReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, user: action.payload, loading: false };\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: action.payload };\r\n    case 'SET_ERROR':\r\n      return { ...state, error: action.payload, loading: false };\r\n    case 'LOGOUT':\r\n      return { ...state, user: null, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Sample user roles and permissions\r\nconst USER_ROLES = {\r\n  ADMIN: 'admin',\r\n  MANAGER: 'manager',\r\n  USER: 'user',\r\n  VIEWER: 'viewer'\r\n};\r\n\r\nconst PERMISSIONS = {\r\n  UPLOAD: 'upload',\r\n  DELETE: 'delete',\r\n  EDIT_TAGS: 'edit_tags',\r\n  MANAGE_USERS: 'manage_users',\r\n  BULK_OPERATIONS: 'bulk_operations',\r\n  VIEW_AUDIT: 'view_audit'\r\n};\r\n\r\nconst rolePermissions = {\r\n  [USER_ROLES.ADMIN]: Object.values(PERMISSIONS),\r\n  [USER_ROLES.MANAGER]: [PERMISSIONS.UPLOAD, PERMISSIONS.DELETE, PERMISSIONS.EDIT_TAGS, PERMISSIONS.BULK_OPERATIONS, PERMISSIONS.VIEW_AUDIT],\r\n  [USER_ROLES.USER]: [PERMISSIONS.UPLOAD, PERMISSIONS.EDIT_TAGS],\r\n  [USER_ROLES.VIEWER]: []\r\n};\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  useEffect(() => {\r\n    // Simulate authentication check\r\n    const checkAuth = () => {\r\n      const storedUser = localStorage.getItem('user');\r\n      if (storedUser) {\r\n        dispatch({ type: 'SET_USER', payload: JSON.parse(storedUser) });\r\n      } else {\r\n        // For demo purposes, auto-login as admin\r\n        const demoUser = {\r\n          id: '1',\r\n          name: 'Bradley Worthen',\r\n          email: 'bradley.worthen@nortek.com',\r\n          role: USER_ROLES.ADMIN,\r\n          avatar: null,\r\n          loginTime: new Date().toISOString()\r\n        };\r\n        localStorage.setItem('user', JSON.stringify(demoUser));\r\n        dispatch({ type: 'SET_USER', payload: demoUser });\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const login = async (credentials) => {\r\n    dispatch({ type: 'SET_LOADING', payload: true });\r\n    \r\n    try {\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      const user = {\r\n        id: '1',\r\n        name: credentials.name || 'Demo User',\r\n        email: credentials.email,\r\n        role: credentials.role || USER_ROLES.USER,\r\n        avatar: null,\r\n        loginTime: new Date().toISOString()\r\n      };\r\n      \r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      dispatch({ type: 'SET_USER', payload: user });\r\n      \r\n      return user;\r\n    } catch (error) {\r\n      dispatch({ type: 'SET_ERROR', payload: error.message });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('user');\r\n    dispatch({ type: 'LOGOUT' });\r\n  };\r\n\r\n  const hasPermission = (permission) => {\r\n    if (!state.user) return false;\r\n    const userPermissions = rolePermissions[state.user.role] || [];\r\n    return userPermissions.includes(permission);\r\n  };\r\n\r\n  const hasRole = (role) => {\r\n    return state.user?.role === role;\r\n  };\r\n\r\n  const isAdmin = () => hasRole(USER_ROLES.ADMIN);\r\n  const isManager = () => hasRole(USER_ROLES.MANAGER) || isAdmin();\r\n  \r\n  const canUpload = () => hasPermission(PERMISSIONS.UPLOAD);\r\n  const canDelete = () => hasPermission(PERMISSIONS.DELETE);\r\n  const canEditTags = () => hasPermission(PERMISSIONS.EDIT_TAGS);\r\n  const canManageUsers = () => hasPermission(PERMISSIONS.MANAGE_USERS);\r\n  const canBulkOperations = () => hasPermission(PERMISSIONS.BULK_OPERATIONS);\r\n  const canViewAudit = () => hasPermission(PERMISSIONS.VIEW_AUDIT);\r\n\r\n  const value = {\r\n    ...state,\r\n    login,\r\n    logout,\r\n    hasPermission,\r\n    hasRole,\r\n    isAdmin,\r\n    isManager,\r\n    canUpload,\r\n    canDelete,\r\n    canEditTags,\r\n    canManageUsers,\r\n    canBulkOperations,\r\n    canViewAudit,\r\n    USER_ROLES,\r\n    PERMISSIONS\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}