{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bradley.worthen\\\\OneDrive - Nortek, Inc\\\\Documents\\\\Projects\\\\Document Management Web Application\\\\src\\\\pages\\\\Upload\\\\UploadPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useDocuments } from '../../context/DocumentContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { FiUpload, FiFile, FiX, FiCheck, FiAlertCircle, FiLoader, FiRefreshCw, FiTag, FiFolder, FiEdit3 } from 'react-icons/fi';\nimport TagBadge from '../../components/TagBadge/TagBadge';\nimport toast from 'react-hot-toast';\nimport './UploadPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UploadPage() {\n  _s();\n  const {\n    uploadDocument,\n    tags,\n    projects,\n    addTag,\n    addProject,\n    updateDocumentTags\n  } = useDocuments();\n  const {\n    canUpload\n  } = useAuth();\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [currentlyReviewing, setCurrentlyReviewing] = useState(null);\n  const onDrop = useCallback(async acceptedFiles => {\n    if (!canUpload()) {\n      toast.error('You do not have permission to upload files');\n      return;\n    }\n    setIsUploading(true);\n    const newUploads = [];\n    for (const file of acceptedFiles) {\n      try {\n        const document = await uploadDocument(file);\n        newUploads.push(document);\n      } catch (error) {\n        toast.error(`Failed to upload ${file.name}`);\n      }\n    }\n    setUploadedFiles(prev => [...prev, ...newUploads]);\n    setIsUploading(false);\n\n    // Auto-select first document for review\n    if (newUploads.length > 0) {\n      setCurrentlyReviewing(newUploads[0].id);\n    }\n  }, [uploadDocument, canUpload]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf'],\n      'application/msword': ['.doc'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'application/vnd.ms-excel': ['.xls'],\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\n      'text/plain': ['.txt'],\n      'text/csv': ['.csv'],\n      'image/*': ['.png', '.jpg', '.jpeg', '.gif', '.bmp', '.svg']\n    },\n    multiple: true,\n    disabled: !canUpload()\n  });\n  const handleApproveTag = (documentId, tag) => {\n    setUploadedFiles(prev => prev.map(doc => {\n      if (doc.id === documentId) {\n        var _doc$suggestedTags;\n        const updatedTags = doc.tags ? [...doc.tags, tag] : [tag];\n        const updatedSuggestedTags = ((_doc$suggestedTags = doc.suggestedTags) === null || _doc$suggestedTags === void 0 ? void 0 : _doc$suggestedTags.filter(t => t.id !== tag.id)) || [];\n        return {\n          ...doc,\n          tags: updatedTags,\n          suggestedTags: updatedSuggestedTags\n        };\n      }\n      return doc;\n    }));\n    toast.success(`Added tag: ${tag.name}`);\n  };\n  const handleRejectTag = (documentId, tagId) => {\n    setUploadedFiles(prev => prev.map(doc => {\n      if (doc.id === documentId) {\n        var _doc$suggestedTags2;\n        const updatedSuggestedTags = ((_doc$suggestedTags2 = doc.suggestedTags) === null || _doc$suggestedTags2 === void 0 ? void 0 : _doc$suggestedTags2.filter(t => t.id !== tagId)) || [];\n        return {\n          ...doc,\n          suggestedTags: updatedSuggestedTags\n        };\n      }\n      return doc;\n    }));\n  };\n  const handleApproveProject = (documentId, project) => {\n    setUploadedFiles(prev => prev.map(doc => {\n      if (doc.id === documentId) {\n        return {\n          ...doc,\n          project: project,\n          suggestedProject: null\n        };\n      }\n      return doc;\n    }));\n    if (project) {\n      toast.success(`Assigned to project: ${project.name}`);\n    } else {\n      toast.success('Project suggestion rejected');\n    }\n  };\n  const handleApproveDocumentType = (documentId, documentType) => {\n    setUploadedFiles(prev => prev.map(doc => {\n      if (doc.id === documentId) {\n        return {\n          ...doc,\n          documentType: documentType,\n          suggestedDocumentType: null\n        };\n      }\n      return doc;\n    }));\n    if (documentType) {\n      toast.success(`Document type set to: ${documentType}`);\n    } else {\n      toast.success('Document type suggestion rejected');\n    }\n  };\n  const handleManualTagAdd = (documentId, tagName) => {\n    if (!tagName.trim()) return;\n\n    // Check if tag already exists\n    const existingTag = tags.find(t => t.name.toLowerCase() === tagName.toLowerCase());\n    let tag;\n    if (existingTag) {\n      tag = existingTag;\n    } else {\n      // Create new tag\n      tag = addTag({\n        name: tagName,\n        type: 'manual',\n        color: '#6b7280'\n      });\n    }\n    handleApproveTag(documentId, tag);\n  };\n  const handleFinishReview = documentId => {\n    const document = uploadedFiles.find(doc => doc.id === documentId);\n    if (!document) return;\n\n    // Update document with all approved tags and metadata\n    updateDocumentTags(documentId, document.tags || [], {\n      project: document.project,\n      documentType: document.documentType\n    });\n\n    // Remove from uploaded files list\n    setUploadedFiles(prev => prev.filter(doc => doc.id !== documentId));\n\n    // Move to next document for review\n    const currentIndex = uploadedFiles.findIndex(doc => doc.id === documentId);\n    const nextDocument = uploadedFiles[currentIndex + 1];\n    if (nextDocument) {\n      setCurrentlyReviewing(nextDocument.id);\n    } else {\n      setCurrentlyReviewing(null);\n      toast.success('All documents have been reviewed!');\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  const getFileIcon = name => {\n    var _name$split$pop;\n    const extension = (_name$split$pop = name.split('.').pop()) === null || _name$split$pop === void 0 ? void 0 : _name$split$pop.toLowerCase();\n    const icons = {\n      pdf: 'üìÑ',\n      doc: 'üìù',\n      docx: 'üìù',\n      xls: 'üìä',\n      xlsx: 'üìä',\n      ppt: 'üìΩÔ∏è',\n      pptx: 'üìΩÔ∏è',\n      txt: 'üìÉ',\n      png: 'üñºÔ∏è',\n      jpg: 'üñºÔ∏è',\n      jpeg: 'üñºÔ∏è',\n      gif: 'üñºÔ∏è'\n    };\n    return icons[extension] || 'üìÅ';\n  };\n  if (!canUpload()) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-unauthorized\",\n        children: [/*#__PURE__*/_jsxDEV(FiAlertCircle, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Upload Not Permitted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You do not have permission to upload documents.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Upload Documents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Upload your documents and review AI-powered tagging suggestions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-zone-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ...getRootProps(),\n        className: `upload-dropzone ${isDragActive ? 'active' : ''} ${isUploading ? 'uploading' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ...getInputProps()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), isUploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-status\",\n          children: [/*#__PURE__*/_jsxDEV(FiLoader, {\n            className: \"spinning\",\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Processing Documents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Analyzing content and generating AI suggestions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-content\",\n          children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: isDragActive ? 'Drop the files here...' : 'Drag & drop files here, or click to select'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Supports PDF, Word, Excel, PowerPoint, images, and text files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(FiFile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), \"Select Files\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), uploadedFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Review AI Suggestions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Review and approve or modify the AI-generated tags and metadata for your documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"documents-sidebar\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Uploaded Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"documents-list\",\n            children: uploadedFiles.map(doc => {\n              var _doc$suggestedTags3;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `document-item ${currentlyReviewing === doc.id ? 'active' : ''}`,\n                onClick: () => setCurrentlyReviewing(doc.id),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"document-icon\",\n                  children: getFileIcon(doc.name)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"document-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"document-name\",\n                    children: doc.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"document-size\",\n                    children: formatFileSize(doc.size)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"document-status\",\n                  children: ((_doc$suggestedTags3 = doc.suggestedTags) === null || _doc$suggestedTags3 === void 0 ? void 0 : _doc$suggestedTags3.length) > 0 || doc.suggestedProject || doc.suggestedDocumentType ? /*#__PURE__*/_jsxDEV(FiAlertCircle, {\n                    className: \"pending-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(FiCheck, {\n                    className: \"complete-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this)]\n              }, doc.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), currentlyReviewing && /*#__PURE__*/_jsxDEV(ReviewPanel, {\n          document: uploadedFiles.find(doc => doc.id === currentlyReviewing),\n          onApproveTag: handleApproveTag,\n          onRejectTag: handleRejectTag,\n          onApproveProject: handleApproveProject,\n          onApproveDocumentType: handleApproveDocumentType,\n          onManualTagAdd: handleManualTagAdd,\n          onFinishReview: handleFinishReview,\n          tags: tags,\n          projects: projects\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n}\n\n// Review Panel Component\n_s(UploadPage, \"IhlEwOVKXO6YenqMUiCvhBRpTys=\", false, function () {\n  return [useDocuments, useAuth, useDropzone];\n});\n_c = UploadPage;\nfunction ReviewPanel({\n  document,\n  onApproveTag,\n  onRejectTag,\n  onApproveProject,\n  onApproveDocumentType,\n  onManualTagAdd,\n  onFinishReview,\n  tags,\n  projects\n}) {\n  _s2();\n  var _document$suggestedTa, _document$tags, _document$suggestedTa2;\n  const [manualTagInput, setManualTagInput] = useState('');\n  const handleManualTagSubmit = e => {\n    e.preventDefault();\n    if (manualTagInput.trim()) {\n      onManualTagAdd(document.id, manualTagInput.trim());\n      setManualTagInput('');\n    }\n  };\n  const hasPendingReviews = ((_document$suggestedTa = document.suggestedTags) === null || _document$suggestedTa === void 0 ? void 0 : _document$suggestedTa.length) > 0 || document.suggestedProject || document.suggestedDocumentType;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-panel-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: document.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => onFinishReview(document.id),\n        disabled: hasPendingReviews,\n        children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), hasPendingReviews ? 'Finish Reviewing Suggestions' : 'Complete Review']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this), ((_document$tags = document.tags) === null || _document$tags === void 0 ? void 0 : _document$tags.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Applied Tags\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"applied-tags\",\n        children: document.tags.map(tag => /*#__PURE__*/_jsxDEV(TagBadge, {\n          tag: tag,\n          variant: \"approved\"\n        }, tag.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }, this), ((_document$suggestedTa2 = document.suggestedTags) === null || _document$suggestedTa2 === void 0 ? void 0 : _document$suggestedTa2.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [/*#__PURE__*/_jsxDEV(FiTag, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), \"Suggested Tags\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"suggestion-count\",\n          children: document.suggestedTags.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestions-list\",\n        children: document.suggestedTags.map(tag => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestion-item\",\n          children: [/*#__PURE__*/_jsxDEV(TagBadge, {\n            tag: tag,\n            variant: \"suggested\",\n            confidence: tag.confidence\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestion-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-success\",\n              onClick: () => onApproveTag(document.id, tag),\n              children: /*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-danger\",\n              onClick: () => onRejectTag(document.id, tag.id),\n              children: /*#__PURE__*/_jsxDEV(FiX, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this), tag.reason && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestion-reason\",\n            children: tag.reason\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 19\n          }, this)]\n        }, tag.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }, this), document.suggestedProject && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [/*#__PURE__*/_jsxDEV(FiFolder, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), \"Suggested Project\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestion-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-suggestion\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: document.suggestedProject.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"confidence-badge\",\n            children: [Math.round(document.suggestedProject.confidence * 100), \"% confidence\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestion-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-success\",\n            onClick: () => onApproveProject(document.id, document.suggestedProject),\n            children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), \" Assign\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-danger\",\n            onClick: () => onApproveProject(document.id, null),\n            children: [/*#__PURE__*/_jsxDEV(FiX, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), \" Reject\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 9\n    }, this), document.suggestedDocumentType && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [/*#__PURE__*/_jsxDEV(FiFile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), \"Suggested Document Type\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestion-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doc-type-suggestion\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: document.suggestedDocumentType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestion-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-success\",\n            onClick: () => onApproveDocumentType(document.id, document.suggestedDocumentType),\n            children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), \" Apply\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-danger\",\n            onClick: () => onApproveDocumentType(document.id, document.documentType),\n            children: [/*#__PURE__*/_jsxDEV(FiX, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), \" Keep Current\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [/*#__PURE__*/_jsxDEV(FiEdit3, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), \"Add Custom Tag\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleManualTagSubmit,\n        className: \"manual-tag-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: manualTagInput,\n          onChange: e => setManualTagInput(e.target.value),\n          placeholder: \"Enter tag name...\",\n          className: \"input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-sm\",\n          children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), \"Add\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 5\n  }, this);\n}\n_s2(ReviewPanel, \"4gMnRXp8a9VnMoNJcdrowrvUdHs=\");\n_c2 = ReviewPanel;\nexport default UploadPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"UploadPage\");\n$RefreshReg$(_c2, \"ReviewPanel\");","map":{"version":3,"names":["React","useState","useCallback","useDropzone","useDocuments","useAuth","FiUpload","FiFile","FiX","FiCheck","FiAlertCircle","FiLoader","FiRefreshCw","FiTag","FiFolder","FiEdit3","TagBadge","toast","jsxDEV","_jsxDEV","UploadPage","_s","uploadDocument","tags","projects","addTag","addProject","updateDocumentTags","canUpload","uploadedFiles","setUploadedFiles","isUploading","setIsUploading","currentlyReviewing","setCurrentlyReviewing","onDrop","acceptedFiles","error","newUploads","file","document","push","name","prev","length","id","getRootProps","getInputProps","isDragActive","accept","multiple","disabled","handleApproveTag","documentId","tag","map","doc","_doc$suggestedTags","updatedTags","updatedSuggestedTags","suggestedTags","filter","t","success","handleRejectTag","tagId","_doc$suggestedTags2","handleApproveProject","project","suggestedProject","handleApproveDocumentType","documentType","suggestedDocumentType","handleManualTagAdd","tagName","trim","existingTag","find","toLowerCase","type","color","handleFinishReview","currentIndex","findIndex","nextDocument","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","getFileIcon","_name$split$pop","extension","split","pop","icons","pdf","docx","xls","xlsx","ppt","pptx","txt","png","jpg","jpeg","gif","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_doc$suggestedTags3","onClick","ReviewPanel","onApproveTag","onRejectTag","onApproveProject","onApproveDocumentType","onManualTagAdd","onFinishReview","_c","_s2","_document$suggestedTa","_document$tags","_document$suggestedTa2","manualTagInput","setManualTagInput","handleManualTagSubmit","e","preventDefault","hasPendingReviews","variant","confidence","reason","round","onSubmit","value","onChange","target","placeholder","_c2","$RefreshReg$"],"sources":["C:/Users/bradley.worthen/OneDrive - Nortek, Inc/Documents/Projects/Document Management Web Application/src/pages/Upload/UploadPage.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { useDocuments } from '../../context/DocumentContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { \r\n  FiUpload, \r\n  FiFile, \r\n  FiX, \r\n  FiCheck, \r\n  FiAlertCircle,\r\n  FiLoader,\r\n  FiRefreshCw,\r\n  FiTag,\r\n  FiFolder,\r\n  FiEdit3\r\n} from 'react-icons/fi';\r\nimport TagBadge from '../../components/TagBadge/TagBadge';\r\nimport toast from 'react-hot-toast';\r\nimport './UploadPage.css';\r\n\r\nfunction UploadPage() {\r\n  const { uploadDocument, tags, projects, addTag, addProject, updateDocumentTags } = useDocuments();\r\n  const { canUpload } = useAuth();\r\n  const [uploadedFiles, setUploadedFiles] = useState([]);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [currentlyReviewing, setCurrentlyReviewing] = useState(null);\r\n\r\n  const onDrop = useCallback(async (acceptedFiles) => {\r\n    if (!canUpload()) {\r\n      toast.error('You do not have permission to upload files');\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    const newUploads = [];\r\n\r\n    for (const file of acceptedFiles) {\r\n      try {\r\n        const document = await uploadDocument(file);\r\n        newUploads.push(document);\r\n      } catch (error) {\r\n        toast.error(`Failed to upload ${file.name}`);\r\n      }\r\n    }\r\n\r\n    setUploadedFiles(prev => [...prev, ...newUploads]);\r\n    setIsUploading(false);\r\n\r\n    // Auto-select first document for review\r\n    if (newUploads.length > 0) {\r\n      setCurrentlyReviewing(newUploads[0].id);\r\n    }\r\n  }, [uploadDocument, canUpload]);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'application/pdf': ['.pdf'],\r\n      'application/msword': ['.doc'],\r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\r\n      'application/vnd.ms-excel': ['.xls'],\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\r\n      'text/plain': ['.txt'],\r\n      'text/csv': ['.csv'],\r\n      'image/*': ['.png', '.jpg', '.jpeg', '.gif', '.bmp', '.svg']\r\n    },\r\n    multiple: true,\r\n    disabled: !canUpload()\r\n  });\r\n\r\n  const handleApproveTag = (documentId, tag) => {\r\n    setUploadedFiles(prev => prev.map(doc => {\r\n      if (doc.id === documentId) {\r\n        const updatedTags = doc.tags ? [...doc.tags, tag] : [tag];\r\n        const updatedSuggestedTags = doc.suggestedTags?.filter(t => t.id !== tag.id) || [];\r\n        \r\n        return {\r\n          ...doc,\r\n          tags: updatedTags,\r\n          suggestedTags: updatedSuggestedTags\r\n        };\r\n      }\r\n      return doc;\r\n    }));\r\n    \r\n    toast.success(`Added tag: ${tag.name}`);\r\n  };\r\n\r\n  const handleRejectTag = (documentId, tagId) => {\r\n    setUploadedFiles(prev => prev.map(doc => {\r\n      if (doc.id === documentId) {\r\n        const updatedSuggestedTags = doc.suggestedTags?.filter(t => t.id !== tagId) || [];\r\n        return {\r\n          ...doc,\r\n          suggestedTags: updatedSuggestedTags\r\n        };\r\n      }\r\n      return doc;\r\n    }));\r\n  };\r\n\r\n  const handleApproveProject = (documentId, project) => {\r\n    setUploadedFiles(prev => prev.map(doc => {\r\n      if (doc.id === documentId) {\r\n        return {\r\n          ...doc,\r\n          project: project,\r\n          suggestedProject: null\r\n        };\r\n      }\r\n      return doc;\r\n    }));\r\n    \r\n    if (project) {\r\n      toast.success(`Assigned to project: ${project.name}`);\r\n    } else {\r\n      toast.success('Project suggestion rejected');\r\n    }\r\n  };\r\n\r\n  const handleApproveDocumentType = (documentId, documentType) => {\r\n    setUploadedFiles(prev => prev.map(doc => {\r\n      if (doc.id === documentId) {\r\n        return {\r\n          ...doc,\r\n          documentType: documentType,\r\n          suggestedDocumentType: null\r\n        };\r\n      }\r\n      return doc;\r\n    }));\r\n    \r\n    if (documentType) {\r\n      toast.success(`Document type set to: ${documentType}`);\r\n    } else {\r\n      toast.success('Document type suggestion rejected');\r\n    }\r\n  };\r\n\r\n  const handleManualTagAdd = (documentId, tagName) => {\r\n    if (!tagName.trim()) return;\r\n    \r\n    // Check if tag already exists\r\n    const existingTag = tags.find(t => t.name.toLowerCase() === tagName.toLowerCase());\r\n    let tag;\r\n    \r\n    if (existingTag) {\r\n      tag = existingTag;\r\n    } else {\r\n      // Create new tag\r\n      tag = addTag({\r\n        name: tagName,\r\n        type: 'manual',\r\n        color: '#6b7280'\r\n      });\r\n    }\r\n    \r\n    handleApproveTag(documentId, tag);\r\n  };\r\n\r\n  const handleFinishReview = (documentId) => {\r\n    const document = uploadedFiles.find(doc => doc.id === documentId);\r\n    if (!document) return;\r\n\r\n    // Update document with all approved tags and metadata\r\n    updateDocumentTags(documentId, document.tags || [], {\r\n      project: document.project,\r\n      documentType: document.documentType\r\n    });\r\n\r\n    // Remove from uploaded files list\r\n    setUploadedFiles(prev => prev.filter(doc => doc.id !== documentId));\r\n    \r\n    // Move to next document for review\r\n    const currentIndex = uploadedFiles.findIndex(doc => doc.id === documentId);\r\n    const nextDocument = uploadedFiles[currentIndex + 1];\r\n    if (nextDocument) {\r\n      setCurrentlyReviewing(nextDocument.id);\r\n    } else {\r\n      setCurrentlyReviewing(null);\r\n      toast.success('All documents have been reviewed!');\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getFileIcon = (name) => {\r\n    const extension = name.split('.').pop()?.toLowerCase();\r\n    const icons = {\r\n      pdf: 'üìÑ',\r\n      doc: 'üìù',\r\n      docx: 'üìù',\r\n      xls: 'üìä',\r\n      xlsx: 'üìä',\r\n      ppt: 'üìΩÔ∏è',\r\n      pptx: 'üìΩÔ∏è',\r\n      txt: 'üìÉ',\r\n      png: 'üñºÔ∏è',\r\n      jpg: 'üñºÔ∏è',\r\n      jpeg: 'üñºÔ∏è',\r\n      gif: 'üñºÔ∏è'\r\n    };\r\n    return icons[extension] || 'üìÅ';\r\n  };\r\n\r\n  if (!canUpload()) {\r\n    return (\r\n      <div className=\"upload-page\">\r\n        <div className=\"upload-unauthorized\">\r\n          <FiAlertCircle size={48} />\r\n          <h2>Upload Not Permitted</h2>\r\n          <p>You do not have permission to upload documents.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"upload-page\">\r\n      <div className=\"upload-header\">\r\n        <h1>Upload Documents</h1>\r\n        <p>Upload your documents and review AI-powered tagging suggestions</p>\r\n      </div>\r\n\r\n      {/* Upload Zone */}\r\n      <div className=\"upload-zone-container\">\r\n        <div\r\n          {...getRootProps()}\r\n          className={`upload-dropzone ${isDragActive ? 'active' : ''} ${isUploading ? 'uploading' : ''}`}\r\n        >\r\n          <input {...getInputProps()} />\r\n          \r\n          {isUploading ? (\r\n            <div className=\"upload-status\">\r\n              <FiLoader className=\"spinning\" size={48} />\r\n              <h3>Processing Documents...</h3>\r\n              <p>Analyzing content and generating AI suggestions</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"upload-content\">\r\n              <FiUpload size={48} />\r\n              <h3>\r\n                {isDragActive \r\n                  ? 'Drop the files here...' \r\n                  : 'Drag & drop files here, or click to select'\r\n                }\r\n              </h3>\r\n              <p>Supports PDF, Word, Excel, PowerPoint, images, and text files</p>\r\n              <button className=\"btn btn-primary\">\r\n                <FiFile />\r\n                Select Files\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Review Section */}\r\n      {uploadedFiles.length > 0 && (\r\n        <div className=\"review-section\">\r\n          <div className=\"review-header\">\r\n            <h2>Review AI Suggestions</h2>\r\n            <p>Review and approve or modify the AI-generated tags and metadata for your documents</p>\r\n          </div>\r\n\r\n          <div className=\"review-content\">\r\n            {/* Document List Sidebar */}\r\n            <div className=\"documents-sidebar\">\r\n              <h3>Uploaded Documents</h3>\r\n              <div className=\"documents-list\">\r\n                {uploadedFiles.map(doc => (\r\n                  <div\r\n                    key={doc.id}\r\n                    className={`document-item ${currentlyReviewing === doc.id ? 'active' : ''}`}\r\n                    onClick={() => setCurrentlyReviewing(doc.id)}\r\n                  >\r\n                    <div className=\"document-icon\">\r\n                      {getFileIcon(doc.name)}\r\n                    </div>\r\n                    <div className=\"document-info\">\r\n                      <div className=\"document-name\">{doc.name}</div>\r\n                      <div className=\"document-size\">{formatFileSize(doc.size)}</div>\r\n                    </div>\r\n                    <div className=\"document-status\">\r\n                      {doc.suggestedTags?.length > 0 || doc.suggestedProject || doc.suggestedDocumentType ? (\r\n                        <FiAlertCircle className=\"pending-icon\" />\r\n                      ) : (\r\n                        <FiCheck className=\"complete-icon\" />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Review Panel */}\r\n            {currentlyReviewing && (\r\n              <ReviewPanel\r\n                document={uploadedFiles.find(doc => doc.id === currentlyReviewing)}\r\n                onApproveTag={handleApproveTag}\r\n                onRejectTag={handleRejectTag}\r\n                onApproveProject={handleApproveProject}\r\n                onApproveDocumentType={handleApproveDocumentType}\r\n                onManualTagAdd={handleManualTagAdd}\r\n                onFinishReview={handleFinishReview}\r\n                tags={tags}\r\n                projects={projects}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Review Panel Component\r\nfunction ReviewPanel({ \r\n  document, \r\n  onApproveTag, \r\n  onRejectTag, \r\n  onApproveProject, \r\n  onApproveDocumentType,\r\n  onManualTagAdd,\r\n  onFinishReview,\r\n  tags,\r\n  projects \r\n}) {\r\n  const [manualTagInput, setManualTagInput] = useState('');\r\n\r\n  const handleManualTagSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (manualTagInput.trim()) {\r\n      onManualTagAdd(document.id, manualTagInput.trim());\r\n      setManualTagInput('');\r\n    }\r\n  };\r\n\r\n  const hasPendingReviews = (\r\n    document.suggestedTags?.length > 0 || \r\n    document.suggestedProject || \r\n    document.suggestedDocumentType\r\n  );\r\n\r\n  return (\r\n    <div className=\"review-panel\">\r\n      <div className=\"review-panel-header\">\r\n        <h3>{document.name}</h3>\r\n        <button\r\n          className=\"btn btn-success\"\r\n          onClick={() => onFinishReview(document.id)}\r\n          disabled={hasPendingReviews}\r\n        >\r\n          <FiCheck />\r\n          {hasPendingReviews ? 'Finish Reviewing Suggestions' : 'Complete Review'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Current Tags */}\r\n      {document.tags?.length > 0 && (\r\n        <div className=\"review-section-block\">\r\n          <h4>Applied Tags</h4>\r\n          <div className=\"applied-tags\">\r\n            {document.tags.map(tag => (\r\n              <TagBadge key={tag.id} tag={tag} variant=\"approved\" />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Suggested Tags */}\r\n      {document.suggestedTags?.length > 0 && (\r\n        <div className=\"review-section-block\">\r\n          <h4>\r\n            <FiTag />\r\n            Suggested Tags\r\n            <span className=\"suggestion-count\">{document.suggestedTags.length}</span>\r\n          </h4>\r\n          <div className=\"suggestions-list\">\r\n            {document.suggestedTags.map(tag => (\r\n              <div key={tag.id} className=\"suggestion-item\">\r\n                <TagBadge tag={tag} variant=\"suggested\" confidence={tag.confidence} />\r\n                <div className=\"suggestion-actions\">\r\n                  <button\r\n                    className=\"btn btn-sm btn-success\"\r\n                    onClick={() => onApproveTag(document.id, tag)}\r\n                  >\r\n                    <FiCheck />\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-sm btn-danger\"\r\n                    onClick={() => onRejectTag(document.id, tag.id)}\r\n                  >\r\n                    <FiX />\r\n                  </button>\r\n                </div>\r\n                {tag.reason && (\r\n                  <div className=\"suggestion-reason\">{tag.reason}</div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Suggested Project */}\r\n      {document.suggestedProject && (\r\n        <div className=\"review-section-block\">\r\n          <h4>\r\n            <FiFolder />\r\n            Suggested Project\r\n          </h4>\r\n          <div className=\"suggestion-item\">\r\n            <div className=\"project-suggestion\">\r\n              <strong>{document.suggestedProject.name}</strong>\r\n              <span className=\"confidence-badge\">\r\n                {Math.round(document.suggestedProject.confidence * 100)}% confidence\r\n              </span>\r\n            </div>\r\n            <div className=\"suggestion-actions\">\r\n              <button\r\n                className=\"btn btn-sm btn-success\"\r\n                onClick={() => onApproveProject(document.id, document.suggestedProject)}\r\n              >\r\n                <FiCheck /> Assign\r\n              </button>\r\n              <button\r\n                className=\"btn btn-sm btn-danger\"\r\n                onClick={() => onApproveProject(document.id, null)}\r\n              >\r\n                <FiX /> Reject\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Suggested Document Type */}\r\n      {document.suggestedDocumentType && (\r\n        <div className=\"review-section-block\">\r\n          <h4>\r\n            <FiFile />\r\n            Suggested Document Type\r\n          </h4>\r\n          <div className=\"suggestion-item\">\r\n            <div className=\"doc-type-suggestion\">\r\n              <strong>{document.suggestedDocumentType}</strong>\r\n            </div>\r\n            <div className=\"suggestion-actions\">\r\n              <button\r\n                className=\"btn btn-sm btn-success\"\r\n                onClick={() => onApproveDocumentType(document.id, document.suggestedDocumentType)}\r\n              >\r\n                <FiCheck /> Apply\r\n              </button>\r\n              <button\r\n                className=\"btn btn-sm btn-danger\"\r\n                onClick={() => onApproveDocumentType(document.id, document.documentType)}\r\n              >\r\n                <FiX /> Keep Current\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Manual Tag Addition */}\r\n      <div className=\"review-section-block\">\r\n        <h4>\r\n          <FiEdit3 />\r\n          Add Custom Tag\r\n        </h4>\r\n        <form onSubmit={handleManualTagSubmit} className=\"manual-tag-form\">\r\n          <input\r\n            type=\"text\"\r\n            value={manualTagInput}\r\n            onChange={(e) => setManualTagInput(e.target.value)}\r\n            placeholder=\"Enter tag name...\"\r\n            className=\"input\"\r\n          />\r\n          <button type=\"submit\" className=\"btn btn-primary btn-sm\">\r\n            <FiCheck />\r\n            Add\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}